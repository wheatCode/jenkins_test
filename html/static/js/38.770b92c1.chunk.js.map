{"version":3,"sources":["pages/SignUp/SignUp.js"],"names":["useStyles","makeStyles","container","display","flexDirection","height","arrow","margin","color","title","width","fontFamily","fontSize","fontWeight","fontStretch","fontStyle","lineHeight","letterSpacing","form","label","errorInfo","passwordInfo","privacyInfo","submit","backgroundColor","SignUp","classes","history","useHistory","useForm","register","handleSubmit","errors","watch","password","useRef","current","responsedJSON","axios","require","onSubmit","data","a","console","log","post","then","response","token","localStorage","setItem","push","catch","error","finally","className","onClick","name","placeholder","fullWidth","inputRef","required","email","type","minLength","validate","value","password_repeat","message","style","variant"],"mappings":"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","file":"static/js/38.770b92c1.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button'\nimport Page from 'material-ui-shell/lib/containers/Page'\nimport Paper from '@material-ui/core/Paper'\nimport React, { useState, useRef, useLayoutEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useAuth } from 'base-shell/lib/providers/Auth'\nimport { useHistory, Link } from 'react-router-dom'\nimport { useIntl } from 'react-intl'\nimport { useMenu } from 'material-ui-shell/lib/providers/Menu'\nimport axios from 'axios'\nimport { useForm } from 'react-hook-form';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { DateRange } from '@material-ui/icons'\nimport * as Yup from 'yup';\n\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: `100%`,\n  },\n  arrow: {\n    margin: '40px 371px 0px 16px',\n    color: '#00d04c',\n  },\n  title: {\n    width: '98px',\n    height: '36px',\n    margin: '61px 297px 31px 16px',\n    fontFamily: 'NotoSansCJKtc',\n    fontSize: '24px',\n    fontWeight: '500',\n    fontStretch: 'normal',\n    fontStyle: 'normal',\n    lineHeight: '1.5',\n    letterSpacing: '0.5px',\n    color: '#232323',\n  },\n  form: {\n    margin: '0 16px 48px 16px',\n  },\n  label: {\n    width: '66px',\n    height: '24px',\n    margin: '0px 0px 31px 0px',\n    fontFamily: 'NotoSansCJKtc',\n    fontSize: '16px',\n    fontWeight: '500',\n    fontStretch: 'normal',\n    fontStyle: 'normal',\n    lineHeight: '1.5',\n    letterSpacing: '0.5px',\n    color: '#232323',\n  },\n  errorInfo: {\n    width: '100%',\n    height: '0px',\n    margin: '16px 321px 55px 0px',\n    fontFamily: 'NotoSansCJKtc',\n    fontSize: '14px',\n    fontWeight: 'normal',\n    fontStretch: 'normal',\n    fontStyle: 'normal',\n    lineHeight: '1.5',\n    letterSpacing: '0.5px',\n    color: '#ff3b30',\n  },\n  passwordInfo: {\n    width: '169px',\n    height: '24px',\n    margin: '16px 211px 55px 0px',\n    fontFamily: 'NotoSansCJKtc',\n    fontSize: '14px',\n    fontWeight: 'normal',\n    fontStretch: 'normal',\n    fontStyle: 'normal',\n    lineHeight: '1.5',\n    letterSpacing: '0.5px',\n    color: '#979797',\n  },\n  privacyInfo: {\n    width: '-webkit-fill-available',\n    height: '45px',\n    margin: '16px 0px 0px',\n    fontFamily: 'NotoSansCJKtc',\n    fontSize: '14px',\n    fontWeight: 'normal',\n    fontStretch: 'normal',\n    fontStyle: 'normal',\n    lineHeight: '1.5',\n    letterSpacing: '0.5px',\n    color: '#232323',\n  },\n  submit: {\n    width: '-webkit-fill-available',\n    height: '48px',\n    margin: '40px 0px 0px 0px',\n    backgroundColor: '#00d04c',\n    color: '#ffffff',\n  },\n})\n\nconst SignUp = () => {\n  const classes = useStyles()\n  const history = useHistory()\n  const { register, handleSubmit, errors, watch } = useForm()\n  const password = useRef({});\n  password.current = watch(\"password\", \"\");\n  const axios = require('axios');\n  let responsedJSON;\n\n  // API POST\n  const onSubmit = async (data) => {\n    console.log(data);\n    await axios.post('https://gohiking-server.herokuapp.com/api/register', data)\n    .then(function (response) {\n      console.log('correct');\n      const { token } = response.data;\n      responsedJSON = response.data\n      localStorage.setItem('token', token)\n      history.push(\"/register0_1\");\n    })\n    .catch(function (error) {\n      console.log('error');\n      responsedJSON = error.response.data;\n    })\n    .finally(function () {\n      console.log(responsedJSON);\n    });  \n  }\n \n  function backhandleClick() {\n    history.push(\"/signin\");\n  }\n\n  return (\n    <div className={classes.container}>\n      <ArrowBackIcon className={classes.arrow} onClick={backhandleClick} />\n      <div className={classes.title}>註冊帳號</div>\n      <form className={classes.form} onSubmit={handleSubmit(onSubmit)} >\n        <label className={classes.label}>電子信箱</label>\n        <Input name=\"email\" placeholder=\"請輸入電子信箱\" fullWidth inputRef={register({ required: true })} />\n        <div className={classes.errorInfo}>{errors.email && \"請輸入正確Email\"}</div>\n        <label className={classes.label}>密碼</label><br />\n        <Input name=\"password\" type=\"password\" placeholder=\"請輸入密碼\" fullWidth inputRef={\n                                                                        register({ \n                                                                          required: true,\n                                                                          minLength: 8\n                                                                        })} />                                                             \n        <div className={classes.errorInfo}>{errors.password && \"密碼必須包含8個字元以上\"}</div>\n        <label className={classes.label}>確認密碼</label><br />\n        <Input placeholder=\"請重新輸入密碼\" name=\"password_repeat\" type=\"password\" fullWidth inputRef={register({ \n                                                                validate: value =>\n                                                                value === password.current || \"密碼不一致！\" \n                                                                })} />\n        <div className={classes.errorInfo}>{errors.password_repeat && <p>{errors.password_repeat.message}</p>}</div>\n        <div className={classes.privacyInfo}>使用這個應用程式前，請先詳閱「Go Hiking」的\n        《<span style={{ color: '#007aff' }}>隱私權政策</span>》及《<span style={{ color: '#007aff' }}>服務條款</span>》\n      </div>\n        \n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          className={classes.submit}\n        >\n          同意並註冊\n        </Button>\n      </form>\n    </div>\n  )\n}\n\nexport default SignUp\n"],"sourceRoot":""}