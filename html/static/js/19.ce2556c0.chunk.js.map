{"version":3,"sources":["pages/FilterDemo/index.js"],"names":["filterName","CustomScrollbars","onScroll","forwardedRef","style","children","refSetter","useCallback","scrollbarsRef","view","ref","overflow","CustomScrollbarsVirtualList","React","forwardRef","props","FilterDemo","intl","useIntl","useFilter","openFilter","getList","getFilter","setSearch","queries","search","value","searchValue","fields","name","label","type","list","source","listRef","createRef","useEffect","current","scrollToItem","Row","index","amount","registered","email","alignItems","primary","secondary","Fragment","component","variant","color","pageTitle","formatMessage","id","defaultMessage","count","length","contentStyle","appBarContent","disableGutters","initialValue","onChange","v","onClick","undefined","height","width","className","itemCount","itemSize","outerElementType"],"mappings":"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","file":"static/js/19.ce2556c0.chunk.js","sourcesContent":["import AutoSizer from 'react-virtualized-auto-sizer'\nimport Divider from '@material-ui/core/Divider'\nimport FilterDrawer from 'material-ui-shell/lib/components/FilterDrawer'\nimport FilterList from '@material-ui/icons/FilterList'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Page from 'material-ui-shell/lib/containers/Page'\nimport React, { useEffect, useCallback } from 'react'\nimport SearchField from 'material-ui-shell/lib/components/SearchField'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport source from './data.json'\nimport { FixedSizeList } from 'react-window'\nimport { Scrollbars } from 'react-custom-scrollbars'\nimport { useFilter } from 'material-ui-shell/lib/providers/Filter'\nimport { useIntl } from 'react-intl'\n\nconst filterName = 'test_filter'\n\nconst CustomScrollbars = ({ onScroll, forwardedRef, style, children }) => {\n  const refSetter = useCallback((scrollbarsRef) => {\n    if (scrollbarsRef) {\n      forwardedRef(scrollbarsRef.view)\n    } else {\n      forwardedRef(null)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <Scrollbars\n      ref={refSetter}\n      style={{ ...style, overflow: 'hidden' }}\n      onScroll={onScroll}\n    >\n      {children}\n    </Scrollbars>\n  )\n}\n\nconst CustomScrollbarsVirtualList = React.forwardRef((props, ref) => (\n  <CustomScrollbars {...props} forwardedRef={ref} />\n))\n\nconst FilterDemo = () => {\n  const intl = useIntl()\n  const { openFilter, getList, getFilter, setSearch } = useFilter()\n\n  const { queries = [], search = {} } = getFilter(filterName)\n  const { value: searchValue = '' } = search\n\n  const fields = [\n    {\n      name: 'name',\n      label: 'Name',\n    },\n    {\n      name: 'email',\n      label: 'E-Mail',\n    },\n    {\n      name: 'amount',\n      label: 'Amount',\n      type: 'number',\n    },\n    {\n      name: 'isActive',\n      label: 'Active',\n      type: 'bool',\n    },\n    {\n      name: 'registered',\n      label: 'Registered',\n      type: 'date',\n    },\n    {\n      name: 'registrationTime',\n      label: 'Registration time',\n      type: 'time',\n    },\n  ]\n\n  const list = getList(filterName, source, fields)\n\n  const listRef = React.createRef()\n\n  useEffect(() => {\n    if (listRef.current) {\n      listRef.current.scrollToItem(1500, 'center')\n    }\n  }, [listRef])\n\n  const Row = ({ index, style }) => {\n    const { name, amount = '', registered, email } = list[index]\n\n    return (\n      <div key={`${name}_${index}`} style={style}>\n        <ListItem alignItems=\"flex-start\">\n          <ListItemText\n            primary={`${name} ${index}`}\n            secondary={\n              <React.Fragment>\n                <Typography\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                >\n                  {email}\n                </Typography>\n                <br />\n                <Typography\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                >\n                  {`${amount} ${registered}`}\n                </Typography>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n        <Divider />\n      </div>\n    )\n  }\n\n  return (\n    <Page\n      pageTitle={intl.formatMessage(\n        {\n          id: 'filter_demo',\n          defaultMessage: 'Filter demo with {count} rows',\n        },\n        { count: list.length }\n      )}\n      contentStyle={{ overflow: 'hidden' }}\n      appBarContent={\n        <Toolbar disableGutters>\n          <SearchField\n            initialValue={searchValue}\n            onChange={(v) => {\n              setSearch(filterName, v)\n            }}\n          />\n          <IconButton color=\"inherit\" onClick={() => openFilter(filterName)}>\n            <FilterList color={queries.length > 0 ? 'secondary' : undefined} />\n          </IconButton>\n        </Toolbar>\n      }\n    >\n      <AutoSizer style={{ height: '100%', width: '100%' }}>\n        {({ height, width }) => {\n          return (\n            <List>\n              <FixedSizeList\n                className=\"List\"\n                ref={listRef}\n                height={height}\n                itemCount={list.length}\n                itemSize={91}\n                width={width}\n                outerElementType={CustomScrollbarsVirtualList}\n              >\n                {Row}\n              </FixedSizeList>\n            </List>\n          )\n        }}\n      </AutoSizer>\n      <FilterDrawer fields={fields} name={filterName} />\n    </Page>\n  )\n}\n\nexport default FilterDemo"],"sourceRoot":""}